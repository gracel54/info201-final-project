##    Note1: the api key must be sent as 'X-API-Key'.  No other name, such as 'api-key'
##    will work.
## -------------------- propublica --------------------
## 4. Get state representatives from propublica congress API
##    you need the respective API key.
##
##    Note1: the api key must be sent as 'X-API-Key'.  No other name, such as 'api-key'
##    will work.
##
##    Note2: Propublica API has several endpoints.  The relevant one here is 'members'.
## -------------------- propublica --------------------
## 4. Get state representatives from propublica congress API
##    you need the respective API key.
##
##    Note1: the api key must be sent as 'X-API-Key'.  No other name, such as 'api-key'
##    will work.
##
officials$emails <- gsub("NULL", "__not available__", officials$emails)
## -------------------- propublica --------------------
## 4. Get state representatives from propublica congress API
##    you need the respective API key.
paras <- list(address = the_address, key = google.key)
google_data_frame[is.na(google_data_frame)] <- "-"
expanded_offices <- expanded_offices %>% mutate(row_number = row_number() - 1) %>%
rename(position = name)
officials <- gdata$officials
raw_data <- read.csv("../data/UFOCoords.csv", stringsAsFactors = FALSE)
raw_data <- read.csv("/../data/UFOCoords.csv", stringsAsFactors = FALSE)
raw_data <- read.csv("/../data/countries.csv", stringsAsFactors = FALSE)
raw_data <- read.csv("/../data/countries.csv", stringsAsFactors = FALSE)
raw_data <- read.csv("../data/countries.csv", stringsAsFactors = FALSE)
raw_data <- data.table::fread("../data/countries.csv")
raw_data <- data.table::fread("countries.csv")
setwd("~/info201/info201-final-project")
raw_data <- data.table::fread("countries.csv")
View(raw_data)
data <- raw_data %>%
filter(Country != "String") %>%
select(`Electricity - consumption(kWh)`, `Electricity - production(kWh)`, `GDP - per capita`, `GDP - real growth rate(%)`, `Internet hosts`, `Internet users`, `Telephones - main lines in use`, `Telephones - mobile cellular`)
library(dplyr)
library(data.table)
raw_data <- data.table::fread("countries.csv")
data <- raw_data %>%
filter(Country != "String") %>%
select(`Electricity - consumption(kWh)`, `Electricity - production(kWh)`, `GDP - per capita`, `GDP - real growth rate(%)`, `Internet hosts`, `Internet users`, `Telephones - main lines in use`, `Telephones - mobile cellular`)
View(data)
data <- raw_data %>%
filter(Country != "String") %>%
select(Country, `Electricity - consumption(kWh)`, `Electricity - production(kWh)`, `GDP - per capita`, `GDP - real growth rate(%)`, `Internet hosts`, `Internet users`, `Telephones - main lines in use`, `Telephones - mobile cellular`)
View(data)
data <- raw_data %>%
filter(Country != "String") %>%
select(Country, `Electricity - consumption(kWh)`, `Electricity - production(kWh)`, `GDP - per capita`, `GDP - real growth rate(%)`, `Internet hosts`, `Internet users`, `Telephones - main lines in use`, `Telephones - mobile cellular`) %>%
filter(`Electricity - consumption(kWh)` == "") %>%
filter(`Electricity - production(kWh)` == "")
View(data)
data <- raw_data %>%
filter(Country != "String") %>%
select(Country, `Electricity - consumption(kWh)`, `Electricity - production(kWh)`, `GDP - per capita`, `GDP - real growth rate(%)`, `Internet hosts`, `Internet users`, `Telephones - main lines in use`, `Telephones - mobile cellular`) %>%
filter(`Electricity - consumption(kWh)` != "") %>%
filter(`Electricity - production(kWh)` != "")
View(data)
data <- raw_data %>%
filter(Country != "String") %>%
select(Country, `Electricity - consumption(kWh)`, `Electricity - production(kWh)`, `GDP - per capita`, `GDP - real growth rate(%)`, `Internet hosts`, `Internet users`, `Telephones - main lines in use`, `Telephones - mobile cellular`) %>%
filter(`Electricity - consumption(kWh)` != "") %>%
filter(`Electricity - production(kWh)` != "") %>%
filter(`GDP - per capita` != "") %>%
filter(`GDP - real growth rate(%)` != "") %>%
filter(`Internet hosts` != "") %>%
filter(`Internet users` != "") %>%
filter(`Telephones - main lines in use` != "") %>%
filter(`Telephones - mobile cellular` != "")
View(data)
alter_data <- data %>%
mutate(elec_gap = `Electricity - production(kWh)`- `Electricity - consumption(kWh)`) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(alter_data))
alter_data <- data %>%
mutate(elec_gap = `Electricity - production(kWh)`- `Electricity - consumption(kWh)`) %>%
arrange(desc(elec_gap)) #%>%
alter_data <- data %>%
mutate(elec_gap = (`Electricity - production(kWh)`- `Electricity - consumption(kWh)`)) %>%
arrange(desc(elec_gap)) #%>%
alter_data <- data %>%
mutate(elec_gap = (`Electricity - production(kWh)`- `Electricity - consumption(kWh)`)) %>%
View(alter_data)
alter_data <- data %>%
mutate(elec_gap = (`Electricity - production(kWh)`- `Electricity - consumption(kWh)`)) %>%
View(alter_data)
alter_data <- data %>%
mutate(elec_gap = (as.numeric(`Electricity - production(kWh)`)- as.numeric(`Electricity - consumption(kWh)`))) %>%
View(alter_data)
View(raw_data)
new_data <- data %>%
mutate(elec_gap = (as.numeric(`Electricity - production(kWh)`)- as.numeric(`Electricity - consumption(kWh)`))) %>%
View(new_data)
new_data <- data %>%
mutate(elec_gap = `Electricity - production(kWh)`- `Electricity - consumption(kWh)`)) %>%
new_data <- data %>%
mutate(elec_gap = `Electricity - production(kWh)`- `Electricity - consumption(kWh)`) %>%
View(new_data)
new_data <- data %>%
mutate(elec_gap = `Electricity - production(kWh)`- `Electricity - consumption(kWh)`) #%>%
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) #%>%
View(new_data)
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
View(new_data)
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) #%>%
View(new_data)
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(alter_data))
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data))
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
## ele_rank is the rank from highest [electrivity production - consumption] downwards
mutate(ele_rank = 1:nrow(new_data)) %>%
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`)))
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
## ele_rank is the rank from highest [electrivity production - consumption] downwards
mutate(ele_rank = 1:nrow(new_data)) %>%
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp))
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
## ele_rank is the rank from highest [electrivity production - consumption] downwards
mutate(ele_rank = 1:nrow(new_data)) %>%
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data))
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`)))
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data))
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
mutate(phone_ratio = as.numeric(as.character(`Telephones - main lines in use`)) / as.numeric(as.character(`Telephones - mobile cellular`))) %>%
arrange(desc(phone_ratio)) %>%
mutate(phone_rank = 1:nrow(new_data)) %>% ## phone_rank: rank from lowest cellular phone compare to mainline upwards
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
mutate(phone_ratio = as.numeric(as.character(`Telephones - main lines in use`)) / as.numeric(as.character(`Telephones - mobile cellular`))) %>%
arrange(desc(phone_ratio)) %>%
mutate(phone_rank = 1:nrow(new_data)) %>% ## phone_rank: rank from lowest cellular phone usage compare to mainline upwards
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
mutate(phone_ratio = as.numeric(as.character(`Telephones - main lines in use`)) / as.numeric(as.character(`Telephones - mobile cellular`)))# %>%
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
mutate(phone_ratio = (as.numeric(as.character(`Telephones - main lines in use`)) / as.numeric(as.character(`Telephones - mobile cellular`))))# %>%
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
mutate(phone_ratio = (as.numeric(as.character(`Telephones - main lines in use`)) / as.numeric(as.character(`Telephones - mobile cellular`))))# %>%
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
mutate(phone_ratio = (as.numeric(as.character(`Telephones - main lines in use`)) + as.numeric(as.character(`Telephones - mobile cellular`))))# %>%
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
mutate(phone_ratio = as.numeric(as.character(`Telephones - main lines in use`)) / as.numeric(as.character(`Telephones - mobile cellular`)))# %>%
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) #%>% ## net_rank: rank from highest internet host per user downwards
View(new_data)
View(data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) ##%>% ## net_rank: rank from highest internet host per user downwards
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) ##%>% ## net_rank: rank from highest internet host per user downwards
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) #%>%
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) #%>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
## here we rank the countries based on multiple aspects
new_data <- data #%>%
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) #%>%
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) #%>%
library(dplyr)
library(data.table)
raw_data <- data.table::fread("countries.csv")
## select only columns we are interested in, and delete all the blank data
## "data" is now data table of 9columns: country, e cons + pro, gdp per cap + growth, internet hosts + users, telephone line + cellular
data <- raw_data %>%
filter(Country != "String") %>%
select(Country, `Electricity - consumption(kWh)`, `Electricity - production(kWh)`, `GDP - per capita`, `GDP - real growth rate(%)`, `Internet hosts`, `Internet users`, `Telephones - main lines in use`, `Telephones - mobile cellular`) %>%
filter(`Electricity - consumption(kWh)` != "") %>%
filter(`Electricity - production(kWh)` != "") %>%
filter(`GDP - per capita` != "") %>%
filter(`GDP - real growth rate(%)` != "") %>%
filter(`Internet hosts` != "") %>%
filter(`Internet users` != "") %>%
filter(`Telephones - main lines in use` != "") %>%
filter(`Telephones - mobile cellular` != "")
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) #%>%
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) #%>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) #%>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) #%>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) ##%>% ## net_rank: rank from highest internet host per user downwards
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) ##%>% ## net_rank: rank from highest internet host per user downwards
View(new_data)
result_data <- new_data %>%
mutate(sum_rank = ele_rank + gdp_rank + net_rank) %>%
arrange(asc(sum_rank))
result_data <- new_data %>%
mutate(sum_rank = ele_rank + gdp_rank + net_rank) %>%
arrange(sum_rank)
View(result_data)
result_data <- new_data %>%
mutate(sum_rank = ele_rank + gdp_rank + net_rank) %>%
arrange(sum_rank) %>%
head(10)
View(result_data)
## this function is what you call in future documents, after sourcing this file.
## calling this will give you 10 rows of data, with first 9 columns same with ^ in data's comments,
## -- but added elec_gap, elec_rank, gdp, gdp_rank, net_ratio and net_rank.
## they are arranged in the order(from top to bottom) with most possibility of growth to least possibility of growth
get_10_countries <- function(){
result_data <- new_data %>%
mutate(sum_rank = ele_rank + gdp_rank + net_rank) %>%
arrange(sum_rank) %>%
head(10)
result_data
}
rm(result_data)
get_10_countries()
yeet <- get_10_countries()
View(yeet)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
mutate(phone_ratio = as.numeric(as.character(`Telephones - mobile cellular`)) / as.numeric(as.character(`Telephones - main lines in use`)))# %>%
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
mutate(phone_ratio = as.numeric(as.character(`Telephones - mobile cellular`)) / as.numeric(as.character(`Telephones - main lines in use`))) %>%
arrange(phone_ratio) #%>%
View(new_data)
## here we rank the countries based on multiple aspects
new_data <- data %>%
mutate(elec_gap = as.numeric(as.character(`Electricity - production(kWh)`))- as.numeric(as.character(`Electricity - consumption(kWh)`))) %>%
arrange(desc(elec_gap)) %>%
mutate(ele_rank = 1:nrow(new_data)) %>% ## ele_rank: rank from highest [electrivity production - consumption] downwards
mutate(gdp = as.numeric(as.character(`GDP - per capita`)) * as.numeric(as.character(`GDP - real growth rate(%)`))) %>%
arrange(desc(gdp)) %>%
mutate(gdp_rank = 1:nrow(new_data)) %>% ## gdp_rank: rank from highest gdp per cap * growth rate downwards
mutate(net_ratio = as.numeric(as.character(`Internet hosts`)) / as.numeric(as.character(`Internet users`))) %>%
arrange(desc(net_ratio)) %>%
mutate(net_rank = 1:nrow(new_data)) %>% ## net_rank: rank from highest internet host per user downwards
mutate(phone_ratio = as.numeric(as.character(`Telephones - mobile cellular`)) / as.numeric(as.character(`Telephones - main lines in use`))) %>%
arrange(phone_ratio) %>%
mutate(phone_rank = 1:nrow(new_data)) ## phone_rank: rank from lowest cellular phone usage compare to mainline upwards
View(new_data)
## this function is what you call in future documents, after sourcing this file.
## calling this will give you 10 rows of data, with first 9 columns same with ^ in data's comments,
## -- but added elec_gap, elec_rank, gdp, gdp_rank, net_ratio, net_rank, phone_ratio and phone_rank.
## they are arranged in the order(from top to bottom) with most possibility of growth to least possibility of growth
get_10_countries <- function(){
result_data <- new_data %>%
mutate(sum_rank = ele_rank + gdp_rank + net_rank + phone_rank) %>%
arrange(sum_rank) %>%
head(10)
result_data
}
yeet <- get_10_countries()
View(yeet)
